{"version":3,"sources":["redux/reducers/userReducer.js","redux/reducers/dataReducer.js","redux/reducers/uiReducer.js","redux/store.js","redux/types.js","redux/actions/userActions.js","redux/actions/dataActions.js","util/MyButton.js","components/scream/DeleteScream.js","components/scream/LikeButton.js","components/scream/Comment.js","components/scream/CommentForm.js","components/scream/ScreamDialog.js","components/scream/Scream.js","components/profile/EditDetails.js","util/ProfileSkeleton.js","components/profile/Profile.js","util/ScreamSkeleton.js","pages/home.js","pages/login.js","pages/signup.js","components/profile/StaticProfile.js","pages/user.js","components/layout/Notifications.js","components/scream/PostScream.js","components/layout/Navbar.js","util/AuthRoute.js","App.js","util/theme.js","serviceWorker.js","index.js","images/no-img.png","images/logo.jpg"],"names":["initialState","authenticated","loading","credentials","likes","notifications","screams","scream","errors","middleware","thunk","reducers","combineReducers","user","state","action","type","payload","userHandle","handle","screamId","filter","like","forEach","n","read","data","index","findIndex","comments","UI","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","store","createStore","logoutUser","dispatch","localStorage","removeItem","axios","defaults","headers","common","getUserData","get","then","res","catch","err","console","log","setAuthHeader","token","FBIdToken","setItem","clearErrors","children","onClick","btnClassName","tipClassName","tip","Tooltip","title","className","placement","IconButton","DeleteScream","open","handleOpen","setState","handleClose","deleteScream","props","classes","this","MyButton","deleteButton","DeleteOutline","color","Dialog","onClose","fullWidth","maxWidth","DialogTitle","DialogActions","Button","Component","mapActionsToProps","delete","connect","withStyles","left","top","position","LikeButton","likedScream","find","likeScream","unlikeScream","Favorite","FavoriteBorder","to","Comments","Grid","container","spacing","map","comment","body","createdAt","userImgUrl","key","item","sm","src","commentImage","alt","commentData","Typography","variant","component","Link","dayjs","format","invisibleSeparator","length","visibleSeparator","theme","styles","width","height","objectFit","borderRadius","marginLeft","CommentForm","handleChange","e","target","name","value","handleSubmit","preventDefault","submitComment","nextProps","style","textAlign","onSubmit","TextField","label","error","helperText","onChange","textField","button","post","response","ScreamDialog","oldPath","newPath","location","pathname","history","pushState","getScream","openDialog","likeCount","commentCount","dialogMarkup","spinnerDiv","CircularProgress","thickness","size","profileImage","Chat","Comment","expandButton","UnfoldMore","closeButton","Close","DialogContent","dialogContent","padding","margin","Scream","extend","relativeTime","Card","card","CardMedia","image","CardContent","content","fromNow","display","marginBottom","minWidth","EditDetails","bio","website","mapUserDetailsToState","userDetails","editUserDetails","Edit","multiline","rows","placeholder","float","backgroundColor","palette","primary","main","fullLine","Paper","paper","profile","NoImg","LocationOn","CalendarToday","Profile","handleImageChange","files","formData","FormData","append","uploadImage","handleEditPicture","document","getElementById","click","handleLogout","imgUrl","id","hidden","href","rel","KeyboardReturn","align","buttons","cardContent","flexDirection","cover","date","halfLine","screamSkeleton","Array","from","i","Math","random","home","getScreams","recentScreamsMarkup","xs","login","userData","email","password","loginUser","form","Logo","pageTitle","noValidate","general","customError","disabled","progress","push","ERD","signup","newUserData","confirmPassword","signupUser","screamIdParam","match","params","screamsMarkup","Notifications","anchorEl","onMenuOpened","unreadNotificationIds","notificationId","markNotificationsRead","notificationsIcon","Badge","badgeContent","notificationsMarkUp","verb","time","iconColor","icon","marginRight","MenuItem","recipient","sender","aria-owns","undefined","aria-haspopup","Menu","Boolean","onEntered","notificationIds","PostScream","newScream","postScream","Add","submitButton","progressSpinner","marginTop","Navbar","AppBar","Toolbar","Home","rest","render","createMuiTheme","light","dark","contrastText","secondary","verticalAlign","border","cursor","fontSize","fontWeight","borderBottom","Axios","baseURL","jwtDecode","exp","Date","now","App","exact","path","hostname","ReactDOM","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.c0a66642.chunk.js","sourcesContent":["import {\r\n  SET_USER,\r\n  SET_AUTHENTICATED,\r\n  SET_UNAUTHENTICATED,\r\n  LOADING_USER,\r\n  LIKE_SCREAM,\r\n  UNLIKE_SCREAM,\r\n  MARK_NOTIFICATIONS_READ\r\n} from \"../types\";\r\nconst initialState = {\r\n  authenticated: false,\r\n  loading: false,\r\n  credentials: {},\r\n  likes: [],\r\n  notifications: []\r\n};\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case SET_AUTHENTICATED:\r\n      return { ...state, authenticated: true };\r\n    case SET_UNAUTHENTICATED:\r\n      return initialState;\r\n    case SET_USER:\r\n      return {\r\n        authenticated: true,\r\n        loading: false,\r\n        ...action.payload\r\n      };\r\n    case LOADING_USER:\r\n      return {\r\n        ...state,\r\n        loading: true\r\n      };\r\n    case LIKE_SCREAM:\r\n      return {\r\n        ...state,\r\n        likes: [\r\n          ...state.likes,\r\n          {\r\n            userHandle: state.credentials.handle,\r\n            screamId: action.payload.screamId\r\n          }\r\n        ]\r\n      };\r\n    case UNLIKE_SCREAM:\r\n      return {\r\n        ...state,\r\n        likes: state.likes.filter(\r\n          like => like.screamId !== action.payload.screamId\r\n        )\r\n      };\r\n    case MARK_NOTIFICATIONS_READ:\r\n      state.notifications.forEach(n => {\r\n        n.read = true;\r\n      });\r\n      return { ...state };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  SET_SCREAMS,\r\n  POST_SCREAM,\r\n  LOADING_DATA,\r\n  LIKE_SCREAM,\r\n  UNLIKE_SCREAM,\r\n  DELETE_SCREAM,\r\n  SUBMIT_COMMENT,\r\n  SET_SCREAM\r\n} from \"../types\";\r\nconst initialState = {\r\n  screams: [],\r\n  scream: {},\r\n  loading: false\r\n};\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case LOADING_DATA:\r\n      return {\r\n        ...state,\r\n        loading: true\r\n      };\r\n    case SET_SCREAMS:\r\n      return {\r\n        ...state,\r\n        screams: action.payload,\r\n        loading: false\r\n      };\r\n    case SET_SCREAM:\r\n      return {\r\n        ...state,\r\n        scream: action.payload\r\n      };\r\n    case LIKE_SCREAM:\r\n    case UNLIKE_SCREAM:\r\n      let index = state.screams.findIndex(\r\n        scream => scream.screamId === action.payload.screamId\r\n      );\r\n      state.screams[index] = action.payload;\r\n      if (state.scream.screamId === action.payload.screamId) {\r\n        state.scream = { ...state.scream, ...action.payload };\r\n      }\r\n      return {\r\n        ...state\r\n      };\r\n    case SUBMIT_COMMENT:\r\n      return {\r\n        ...state,\r\n        scream: {\r\n          ...state.scream,\r\n          comments: [action.payload, ...state.scream.comments]\r\n        }\r\n      };\r\n    case DELETE_SCREAM:\r\n      return {\r\n        ...state,\r\n        screams: state.screams.filter(\r\n          scream => scream.screamId !== action.payload\r\n        )\r\n      };\r\n    case POST_SCREAM:\r\n      return {\r\n        ...state,\r\n        screams: [action.payload, ...state.screams]\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  SET_ERRORS,\r\n  CLEAR_ERRORS,\r\n  LOADING_UI,\r\n  STOP_LOADING_UI\r\n} from \"../types\";\r\nconst initialState = {\r\n  loading: false,\r\n  errors: null\r\n};\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case SET_ERRORS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        errors: action.payload\r\n      };\r\n    case CLEAR_ERRORS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        errors: null\r\n      };\r\n    case LOADING_UI:\r\n      return {\r\n        ...state,\r\n        loading: true\r\n      };\r\n    case STOP_LOADING_UI:\r\n      return {\r\n        ...state,\r\n        loading: false\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport userReducer from './reducers/userReducer';\r\nimport dataReducer from './reducers/dataReducer';\r\nimport uiReducer from './reducers/uiReducer';\r\n\r\nconst initialState = {};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst reducers = combineReducers({\r\n  user: userReducer,\r\n  data: dataReducer,\r\n  UI: uiReducer\r\n});\r\n\r\nconst composeEnhancers =\r\n  typeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\r\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\r\n    : compose;\r\n\r\nconst enhancer = composeEnhancers(applyMiddleware(...middleware));\r\nconst store = createStore(reducers, initialState, enhancer);\r\n\r\nexport default store;","export const SET_AUTHENTICATED = \"SET_AUTHENTICATED\";\r\nexport const SET_UNAUTHENTICATED = \"SET_UNAUTHENTICATED\";\r\nexport const SET_USER = \"SET_USER\";\r\nexport const LOADING_USER = \"LOADING_USER\";\r\nexport const MARK_NOTIFICATIONS_READ = \"MARK_NOTIFICATIONS_READ\";\r\nexport const SET_ERRORS = \"SET_ERRORS\";\r\nexport const LOADING_UI = \"LOADING_UI\";\r\nexport const STOP_LOADING_UI = \"STOP_LOADING_UI\";\r\nexport const LOADING_DATA = \"LOADING_DATA\";\r\nexport const CLEAR_ERRORS = \"CLEAR_ERRORS\";\r\nexport const SET_SCREAMS = \"SET_SCREAMS\";\r\nexport const SET_SCREAM = \"SET_SCREAM\";\r\nexport const LIKE_SCREAM = \"LIKE_SCREAM\";\r\nexport const UNLIKE_SCREAM = \"UNLIKE_SCREAM\";\r\nexport const DELETE_SCREAM = \"DELETE_SCREAM\";\r\nexport const POST_SCREAM = \"POST_SCREAM\";\r\nexport const SUBMIT_COMMENT = \"SUBMIT_COMMENT\";","import {\r\n  SET_USER,\r\n  SET_ERRORS,\r\n  CLEAR_ERRORS,\r\n  LOADING_UI,\r\n  LOADING_USER,\r\n  SET_UNAUTHENTICATED,\r\n  MARK_NOTIFICATIONS_READ\r\n} from \"../types\";\r\nimport axios from \"axios\";\r\nexport const logoutUser = () => dispatch => {\r\n  localStorage.removeItem(\"FBIdToken\");\r\n  delete axios.defaults.headers.common[\"Authorization\"];\r\n  dispatch({ type: SET_UNAUTHENTICATED });\r\n};\r\nexport const loginUser = (userData, history) => dispatch => {\r\n  dispatch({ type: LOADING_UI });\r\n  axios\r\n    .post(\"/login\", userData)\r\n    .then(res => {\r\n      setAuthHeader(res.data.token);\r\n      dispatch(getUserData());\r\n      dispatch({ type: CLEAR_ERRORS });\r\n      history.push(\"/\");\r\n    })\r\n    .catch(err => {\r\n      let ERD =\r\n        typeof err.response.data === \"string\"\r\n          ? { general: err.response.data }\r\n          : err.response.data;\r\n\r\n      dispatch({ type: SET_ERRORS, payload: ERD });\r\n    });\r\n};\r\nexport const signupUser = (newUserData, history) => dispatch => {\r\n  dispatch({ type: LOADING_UI });\r\n  axios\r\n    .post(\"/signup\", newUserData)\r\n    .then(res => {\r\n      setAuthHeader(res.data.token);\r\n      dispatch(getUserData());\r\n      dispatch({ type: CLEAR_ERRORS });\r\n      history.push(\"/\");\r\n    })\r\n    .catch(err => {\r\n      let ERD =\r\n        typeof err.response.data === \"string\"\r\n          ? { general: err.response.data }\r\n          : err.response.data;\r\n\r\n      dispatch({ type: SET_ERRORS, payload: ERD });\r\n    });\r\n};\r\nexport const getUserData = () => dispatch => {\r\n  dispatch({ type: LOADING_USER });\r\n  axios\r\n    .get(\"/user\")\r\n    .then(res => {\r\n      dispatch({\r\n        type: SET_USER,\r\n        payload: res.data\r\n      });\r\n    })\r\n    .catch(err => {\r\n      dispatch({ type: SET_UNAUTHENTICATED });\r\n      console.log(err);\r\n    });\r\n};\r\nexport const uploadImage = formData => dispatch => {\r\n  dispatch({ type: LOADING_USER });\r\n  axios\r\n    .post(\"/user/image\", formData)\r\n    .then(() => {\r\n      dispatch(getUserData());\r\n    })\r\n    .catch(err => {\r\n      dispatch(getUserData());\r\n      console.log(err);\r\n    });\r\n};\r\nexport const editUserDetails = userDetails => dispatch => {\r\n  dispatch({ type: LOADING_USER });\r\n  axios\r\n    .post(\"/user\", userDetails)\r\n    .then(() => {\r\n      dispatch(getUserData());\r\n    })\r\n    .catch(err => {\r\n      dispatch(getUserData());\r\n      console.log(err);\r\n    });\r\n};\r\nexport const markNotificationsRead = notificationIds => dispatch => {\r\n  axios\r\n    .post(\"/notifications\", notificationIds)\r\n    .then(() => {\r\n      dispatch({ type: MARK_NOTIFICATIONS_READ });\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n    });\r\n};\r\nconst setAuthHeader = token => {\r\n  const FBIdToken = `Bearer ${token}`;\r\n  localStorage.setItem(\"FBIdToken\", FBIdToken);\r\n  axios.defaults.headers.common[\"Authorization\"] = FBIdToken;\r\n};\r\n","import {\r\n  SET_SCREAMS,\r\n  POST_SCREAM,\r\n  LOADING_UI,\r\n  STOP_LOADING_UI,\r\n  LOADING_DATA,\r\n  LIKE_SCREAM,\r\n  UNLIKE_SCREAM,\r\n  DELETE_SCREAM,\r\n  SET_ERRORS,\r\n  CLEAR_ERRORS,\r\n  SUBMIT_COMMENT,\r\n  SET_SCREAM\r\n} from \"../types\";\r\nimport axios from \"axios\";\r\nexport const getScreams = () => dispatch => {\r\n  dispatch({ type: LOADING_DATA });\r\n  axios\r\n    .get(\"/screams\")\r\n    .then(res => {\r\n      dispatch({ type: SET_SCREAMS, payload: res.data });\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n      dispatch({ type: SET_SCREAMS, payload: [] });\r\n    });\r\n};\r\nexport const getScream = screamId => dispatch => {\r\n  dispatch({ type: LOADING_UI });\r\n  axios\r\n    .get(`/scream/${screamId}`)\r\n    .then(res => {\r\n      dispatch({ type: SET_SCREAM, payload: res.data });\r\n      dispatch({ type: STOP_LOADING_UI });\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n    });\r\n};\r\nexport const postScream = newScream => dispatch => {\r\n  dispatch({ type: LOADING_UI });\r\n  axios\r\n    .post(\"/scream\", newScream)\r\n    .then(res => {\r\n      dispatch({ type: POST_SCREAM, payload: res.data });\r\n      dispatch(clearErrors());\r\n    })\r\n    .catch(err => {\r\n      dispatch({ type: SET_ERRORS, payload: err.response.data });\r\n      console.log(err);\r\n    });\r\n};\r\nexport const likeScream = screamId => dispatch => {\r\n  axios\r\n    .get(`/scream/${screamId}/like`)\r\n    .then(res => {\r\n      dispatch({ type: LIKE_SCREAM, payload: res.data });\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n    });\r\n};\r\nexport const unlikeScream = screamId => dispatch => {\r\n  axios\r\n    .get(`/scream/${screamId}/unlike`)\r\n    .then(res => {\r\n      dispatch({ type: UNLIKE_SCREAM, payload: res.data });\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n    });\r\n};\r\nexport const submitComment = (screamId, commentData) => dispatch => {\r\n  axios\r\n    .post(`/scream/${screamId}/comment`, commentData)\r\n    .then(res => {\r\n      dispatch({ type: SUBMIT_COMMENT, payload: res.data });\r\n      dispatch(clearErrors());\r\n    })\r\n    .catch(err => {\r\n      dispatch({ type: SET_ERRORS, payload: err.response.data });\r\n      console.log(err);\r\n    });\r\n};\r\nexport const deleteScream = screamId => dispatch => {\r\n  axios\r\n    .delete(`/scream/${screamId}`)\r\n    .then(() => {\r\n      dispatch({ type: DELETE_SCREAM, payload: screamId });\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n    });\r\n};\r\nexport const getUserData = userHandle => dispatch => {\r\n  dispatch({ type: LOADING_DATA });\r\n  axios\r\n    .get(`/user/${userHandle}`)\r\n    .then(res => {\r\n      dispatch({ type: SET_SCREAMS, payload: res.data.screams });\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n      dispatch({ type: SET_SCREAMS, payload: null });\r\n    });\r\n};\r\nexport const clearErrors = () => dispatch => {\r\n  dispatch({ type: CLEAR_ERRORS });\r\n};\r\n","import React from 'react'\r\nimport { Tooltip, IconButton } from '@material-ui/core';\r\n\r\nexport default ({children, onClick, btnClassName, tipClassName, tip}) => (\r\n    <Tooltip title={tip} className={tipClassName} placement=\"top\">\r\n        <IconButton onClick={onClick} className={btnClassName}>\r\n            {children}\r\n        </IconButton>\r\n    </Tooltip>\r\n)","import React, { Component, Fragment } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { withStyles } from \"@material-ui/styles\";\r\nimport { deleteScream } from \"../../redux/actions/dataActions\";\r\nimport MyButton from \"../../util/MyButton\";\r\nimport { Button, Dialog, DialogActions, DialogTitle } from \"@material-ui/core\";\r\nimport { DeleteOutline } from \"@material-ui/icons\";\r\nconst styles = {\r\n  deleteButton: {\r\n    left: \"90%\",\r\n    top: \"10%\",\r\n    position: \"absolute\"\r\n  }\r\n};\r\nexport class DeleteScream extends Component {\r\n  state = {\r\n    open: false\r\n  };\r\n  handleOpen = () => {\r\n    this.setState({ open: true });\r\n  };\r\n  handleClose = () => {\r\n    this.setState({ open: false });\r\n  };\r\n  deleteScream = () => {\r\n    this.props.deleteScream(this.props.screamId);\r\n    this.setState({ open: false });\r\n  };\r\n  render() {\r\n    const { classes } = this.props;\r\n    return (\r\n      <Fragment>\r\n        <MyButton\r\n          tip=\"Delete Scream\"\r\n          onClick={this.handleOpen}\r\n          btnClassName={classes.deleteButton}\r\n        >\r\n          <DeleteOutline color=\"primary\" />\r\n        </MyButton>\r\n        <Dialog\r\n          open={this.state.open}\r\n          onClose={this.handleClose}\r\n          fullWidth\r\n          maxWidth=\"sm\"\r\n        >\r\n          <DialogTitle>\r\n            Are you sure you want to delete this scream ?\r\n          </DialogTitle>\r\n          <DialogActions>\r\n            <Button onClick={this.handleClose} color=\"primary\">\r\n              No\r\n            </Button>\r\n            <Button onClick={this.deleteScream} color=\"secondary\">\r\n              Yes\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\nDeleteScream.propTypes = {\r\n  deleteScream: PropTypes.func.isRequired,\r\n  classes: PropTypes.object.isRequired,\r\n  screamId: PropTypes.string.isRequired\r\n};\r\n\r\nconst mapActionsToProps = {\r\n  deleteScream\r\n};\r\n\r\nexport default connect(\r\n  null,\r\n  mapActionsToProps\r\n)(withStyles(styles)(DeleteScream));\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { likeScream, unlikeScream } from \"../../redux/actions/dataActions\";\r\nimport MyButton from \"../../util/MyButton\";\r\nimport { FavoriteBorder, Favorite as FavoriteIcon } from \"@material-ui/icons\";\r\nclass LikeButton extends Component {\r\n  likedScream = () => {\r\n    if (\r\n      this.props.user.likes &&\r\n      this.props.user.likes.find(like => like.screamId === this.props.screamId)\r\n    )\r\n      return true;\r\n    else return false;\r\n  };\r\n  likeScream = () => {\r\n    this.props.likeScream(this.props.screamId);\r\n  };\r\n  unlikeScream = () => {\r\n    this.props.unlikeScream(this.props.screamId);\r\n  };\r\n  render() {\r\n    const { authenticated } = this.props.user;\r\n    const likeButton = !authenticated ? (\r\n      <Link to=\"/login\">\r\n        <MyButton tip=\"Like\">\r\n          <FavoriteBorder color=\"primary\" />\r\n        </MyButton>\r\n      </Link>\r\n    ) : !this.likedScream() ? (\r\n      <MyButton tip=\"Like\" onClick={this.likeScream}>\r\n        <FavoriteBorder color=\"primary\" />\r\n      </MyButton>\r\n    ) : (\r\n      <MyButton tip=\"Unlike\" onClick={this.unlikeScream}>\r\n        <FavoriteIcon color=\"primary\" />\r\n      </MyButton>\r\n    );\r\n    return likeButton;\r\n  }\r\n}\r\nLikeButton.propTypes = {\r\n  likeScream: PropTypes.func.isRequired,\r\n  unlikeScream: PropTypes.func.isRequired,\r\n  user: PropTypes.object.isRequired,\r\n  screamId: PropTypes.string.isRequired\r\n};\r\nconst mapStateToProps = state => ({\r\n  user: state.user\r\n});\r\n\r\nconst mapActionsToProps = {\r\n  likeScream,\r\n  unlikeScream\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapActionsToProps\r\n)(LikeButton);\r\n","import React, { Component, Fragment } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { Typography, Grid, withStyles } from \"@material-ui/core\";\r\nimport { Link } from \"react-router-dom\";\r\nimport dayjs from \"dayjs\";\r\nconst styles = theme => ({\r\n  ...theme.styles,\r\n  commentImage: {\r\n    width: \"100%\",\r\n    height: 100,\r\n    objectFit: \"cover\",\r\n    borderRadius: \"50%\"\r\n  },\r\n  commentData: {\r\n    marginLeft: 20\r\n  }\r\n});\r\nclass Comments extends Component {\r\n  render() {\r\n    const { comments, classes } = this.props;\r\n    return (\r\n      <Grid container spacing={2}>\r\n        {comments.map((comment, index) => {\r\n          const { body, createdAt, userImgUrl, userHandle } = comment;\r\n          return (\r\n            <Fragment key={createdAt}>\r\n              <Grid item sm={12}>\r\n                <Grid container>\r\n                  <Grid item sm={2}>\r\n                    <img\r\n                      src={userImgUrl}\r\n                      className={classes.commentImage}\r\n                      alt={userHandle}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item sm={9}>\r\n                    <div className={classes.commentData}>\r\n                      <Typography\r\n                        variant=\"h5\"\r\n                        component={Link}\r\n                        to={`/users/${userHandle}`}\r\n                        color=\"primary\"\r\n                      >\r\n                        {userHandle}\r\n                      </Typography>\r\n                      <Typography variant=\"body2\" color=\"textSecondary\">\r\n                        {dayjs(createdAt).format(\"h:mm a, MMMM DD YYYY\")}\r\n                      </Typography>\r\n                      <hr className={classes.invisibleSeparator} />\r\n                      <Typography variant=\"body1\">{body}</Typography>\r\n                    </div>\r\n                  </Grid>\r\n                </Grid>\r\n              </Grid>\r\n              {index !== comments.length - 1 && (\r\n                <hr className={classes.visibleSeparator} />\r\n              )}\r\n            </Fragment>\r\n          );\r\n        })}\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\nComments.propTypes = {\r\n  comments: PropTypes.array.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({});\r\n\r\nconst mapActionsToProps = {};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapActionsToProps\r\n)(withStyles(styles)(Comments));\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { Button, TextField, Grid, withStyles } from \"@material-ui/core\";\r\nimport { submitComment } from \"../../redux/actions/dataActions\";\r\nconst styles = theme => ({\r\n  ...theme.styles\r\n});\r\nclass CommentForm extends Component {\r\n  state = { body: \"\", errors: {} };\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (nextProps.UI.errors) {\r\n      this.setState({ errors: nextProps.UI.errors });\r\n    }\r\n    if (!nextProps.UI.errors && !nextProps.UI.loading) {\r\n      this.setState({ body: \"\" });\r\n    }\r\n  }\r\n  handleChange = e => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value\r\n    });\r\n  };\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.submitComment(this.props.screamId, { body: this.state.body });\r\n  };\r\n  render() {\r\n    const { classes, authenticated } = this.props;\r\n    const errors = this.state.errors;\r\n    const commentFormMarkup = authenticated && (\r\n      <Grid item sm={12} style={{ textAlign: \"center\" }}>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <TextField\r\n            name=\"body\"\r\n            type=\"text\"\r\n            label=\"Comment on Scream\"\r\n            error={errors.comment ? true : false}\r\n            helperText={errors.comment}\r\n            onChange={this.handleChange}\r\n            fullWidth\r\n            className={classes.textField}\r\n          />\r\n          <Button\r\n            type=\"submit\"\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.button}\r\n          >\r\n            Comment\r\n          </Button>\r\n        </form>\r\n        <hr className={classes.visibleSeparator} />\r\n      </Grid>\r\n    );\r\n    return commentFormMarkup;\r\n  }\r\n}\r\nCommentForm.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  submitComment: PropTypes.func.isRequired,\r\n  UI: PropTypes.object.isRequired,\r\n  authenticated: PropTypes.bool.isRequired,\r\n  screamId: PropTypes.string.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  UI: state.UI,\r\n  authenticated: state.user.authenticated\r\n});\r\n\r\nconst mapActionsToProps = {\r\n  submitComment\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapActionsToProps\r\n)(withStyles(styles)(CommentForm));\r\n","import React, { Component, Fragment } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport { getScream, clearErrors } from \"../../redux/actions/dataActions\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { Link } from \"react-router-dom\";\r\nimport dayjs from \"dayjs\";\r\nimport MyButton from \"../../util/MyButton\";\r\nimport {\r\n  UnfoldMore,\r\n  Close as CloseIcon,\r\n  Chat as ChatIcon\r\n} from \"@material-ui/icons\";\r\nimport {\r\n  Dialog,\r\n  CircularProgress,\r\n  DialogContent,\r\n  Grid\r\n} from \"@material-ui/core\";\r\nimport LikeButton from \"./LikeButton\";\r\nimport Comments from \"./Comment\";\r\nimport CommentForm from \"./CommentForm\";\r\nconst styles = theme => ({\r\n  ...theme.styles,\r\n  profileImage: {\r\n    width: 200,\r\n    height: 200,\r\n    borderRadius: \"50%\",\r\n    objectFit: \"cover\"\r\n  },\r\n  dialogContent: {\r\n    padding: 20\r\n  },\r\n  closeButton: {\r\n    position: \"absolute\",\r\n    left: \"90%\"\r\n  },\r\n  expandButton: {\r\n    position: \"absolute\",\r\n    left: \"90%\"\r\n  },\r\n  spinnerDiv: {\r\n    textAlign: \"center\",\r\n    margin: \"30px 0 30px 0\"\r\n  }\r\n});\r\nclass ScreamDialog extends Component {\r\n  state = {\r\n    open: false,\r\n    oldPath: \"\",\r\n    newPath: \"\"\r\n  };\r\n  componentDidMount() {\r\n    if (this.props.openDialog) {\r\n      this.handleOpen();\r\n    }\r\n  }\r\n  handleOpen = () => {\r\n    let oldPath = window.location.pathname;\r\n    const { userHandle, screamId } = this.props;\r\n    const newPath = `/users/${userHandle}/scream/${screamId}`;\r\n    oldPath = oldPath === newPath ? `/user/${userHandle}` : oldPath; //suspic\r\n    window.history.pushState(null, null, newPath);\r\n    this.setState({ open: true, oldPath, newPath });\r\n    this.props.getScream(this.props.screamId);\r\n  };\r\n  handleClose = () => {\r\n    window.history.pushState(null, null, this.state.oldPath);\r\n    this.setState({ open: false });\r\n    this.props.clearErrors();\r\n  };\r\n  render() {\r\n    const {\r\n      classes,\r\n      scream: {\r\n        screamId,\r\n        body,\r\n        userHandle,\r\n        createdAt,\r\n        likeCount,\r\n        commentCount,\r\n        userImgUrl,\r\n        comments\r\n      },\r\n      UI: { loading }\r\n    } = this.props;\r\n    const dialogMarkup = loading ? (\r\n      <div className={classes.spinnerDiv}>\r\n        <CircularProgress thickness={2} size={200} />\r\n      </div>\r\n    ) : (\r\n      <Grid container spacing={2}>\r\n        <Grid item sm={5}>\r\n          <img\r\n            src={userImgUrl}\r\n            alt={userHandle}\r\n            className={classes.profileImage}\r\n          />\r\n        </Grid>\r\n        <Grid item sm={7}>\r\n          <Typography\r\n            component={Link}\r\n            to={`/users/${userHandle}`}\r\n            variant=\"h5\"\r\n            color=\"primary\"\r\n          >\r\n            @{userHandle}\r\n          </Typography>\r\n          <hr className={classes.invisibleSeparator} />\r\n          <Typography variant=\"body2\" color=\"textSecondary\">\r\n            {dayjs(createdAt).format(\"h:mm a, MMMM DD YYYY\")}\r\n          </Typography>\r\n          <hr className={classes.invisibleSeparator} />\r\n          <Typography variant=\"body1\">{body}</Typography>\r\n          <LikeButton screamId={screamId} />\r\n          <span>{likeCount} Likes</span>\r\n          <MyButton tip=\"Comments\">\r\n            <ChatIcon color=\"primary\" />\r\n          </MyButton>\r\n          <span>{commentCount} Comments</span>\r\n        </Grid>\r\n        <hr className={classes.visibleSeparator} />\r\n        <CommentForm screamId={screamId} />\r\n        <Comments comments={comments} />\r\n      </Grid>\r\n    );\r\n    return (\r\n      <Fragment>\r\n        <MyButton\r\n          tip=\"View Scream\"\r\n          onClick={this.handleOpen}\r\n          btnClassName={classes.expandButton}\r\n        >\r\n          <UnfoldMore color=\"primary\" />\r\n        </MyButton>\r\n        <Dialog\r\n          open={this.state.open}\r\n          onClose={this.handleClose}\r\n          fullWidth\r\n          maxWidth=\"sm\"\r\n        >\r\n          <MyButton\r\n            tip=\"Close\"\r\n            onClick={this.handleClose}\r\n            btnClassName={classes.closeButton}\r\n          >\r\n            <CloseIcon />\r\n          </MyButton>\r\n          <DialogContent className={classes.dialogContent}>\r\n            {dialogMarkup}\r\n          </DialogContent>\r\n        </Dialog>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nScreamDialog.propTypes = {\r\n  getScream: PropTypes.func.isRequired,\r\n  clearErrors: PropTypes.func.isRequired,\r\n  screamId: PropTypes.string.isRequired,\r\n  userHandle: PropTypes.string.isRequired,\r\n  scream: PropTypes.object.isRequired,\r\n  UI: PropTypes.object.isRequired,\r\n  openDialog: PropTypes.bool\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  scream: state.data.scream,\r\n  UI: state.UI\r\n});\r\n\r\nconst mapActionsToProps = {\r\n  getScream,\r\n  clearErrors\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapActionsToProps\r\n)(withStyles(styles)(ScreamDialog));\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport dayjs from \"dayjs\";\r\nimport relativeTime from \"dayjs/plugin/relativeTime\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport DeleteScream from \"./DeleteScream\";\r\nimport ScreamDialog from \"./ScreamDialog\";\r\nimport MyButton from \"../../util/MyButton\";\r\n//MUI Stuff\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport CardMedia from \"@material-ui/core/CardMedia\";\r\nimport { Chat as ChatIcon } from \"@material-ui/icons\";\r\nimport LikeButton from \"./LikeButton\";\r\nconst styles = {\r\n  card: {\r\n    display: \"flex\",\r\n    marginBottom: 20,\r\n    position: \"relative\"\r\n  },\r\n  content: {\r\n    padding: 25,\r\n    objectFit: \"cover\"\r\n  },\r\n  image: {\r\n    minWidth: 200\r\n  }\r\n};\r\nclass Scream extends Component {\r\n  render() {\r\n    dayjs.extend(relativeTime);\r\n    const {\r\n      user: {\r\n        authenticated,\r\n        credentials: { handle }\r\n      },\r\n      classes,\r\n      scream: {\r\n        body,\r\n        screamId,\r\n        likeCount,\r\n        commentCount,\r\n        createdAt,\r\n        userHandle,\r\n        userImgUrl\r\n      }\r\n    } = this.props;\r\n\r\n    const deleteButton =\r\n      authenticated && userHandle === handle ? (\r\n        <DeleteScream screamId={screamId} />\r\n      ) : null;\r\n    return (\r\n      <Card className={classes.card}>\r\n        <CardMedia\r\n          image={userImgUrl}\r\n          title=\"Profile Image\"\r\n          className={classes.image}\r\n        />\r\n        <CardContent className={classes.content}>\r\n          <Typography\r\n            variant=\"h5\"\r\n            component={Link}\r\n            to={`/users/${userHandle}`}\r\n            color=\"primary\"\r\n          >\r\n            {userHandle}\r\n          </Typography>\r\n          {deleteButton}\r\n          <Typography variant=\"body2\" color=\"textSecondary\">\r\n            {dayjs(createdAt).fromNow()}\r\n          </Typography>\r\n          <Typography variant=\"body1\">{body}</Typography>\r\n          <LikeButton screamId={screamId} />\r\n          <span>{likeCount} Likes</span>\r\n          <MyButton tip=\"Comments\">\r\n            <ChatIcon color=\"primary\" />\r\n          </MyButton>\r\n          <span>{commentCount} Comments</span>\r\n          <ScreamDialog screamId={screamId} userHandle={userHandle} openDialog={this.props.openDialog} />\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\nScream.propTypes = {\r\n  user: PropTypes.object.isRequired,\r\n  scream: PropTypes.object.isRequired,\r\n  classes: PropTypes.object.isRequired,\r\n  openDialog: PropTypes.bool\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  user: state.user\r\n});\r\nexport default connect(\r\n  mapStateToProps\r\n)(withStyles(styles)(Scream));\r\n","import React, { Component, Fragment } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport MyButton from \"../../util/MyButton\";\r\nimport {\r\n  Button,\r\n  withStyles,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  TextField\r\n} from \"@material-ui/core\";\r\nimport { editUserDetails } from \"../../redux/actions/userActions\";\r\nimport { Edit as EditIcon } from \"@material-ui/icons\";\r\n\r\nconst styles = theme => ({\r\n  ...theme.styles,\r\n  button: {\r\n    float: \"right\"\r\n  }\r\n});\r\nclass EditDetails extends Component {\r\n  state = {\r\n    bio: \"\",\r\n    website: \"\",\r\n    location: \"\",\r\n    open: false\r\n  };\r\n  handleOpen = () => {\r\n    this.setState({ open: true });\r\n    this.mapUserDetailsToState(this.props.credentials);\r\n  };\r\n  handleClose = () => {\r\n    this.setState({ open: false });\r\n  };\r\n  handleChange = e => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value\r\n    });\r\n  };\r\n  handleSubmit = () => {\r\n    const userDetails = {\r\n      bio: this.state.bio,\r\n      website: this.state.website,\r\n      location: this.state.location\r\n    };\r\n    this.props.editUserDetails(userDetails);\r\n    this.handleClose();\r\n  };\r\n  componentDidMount() {\r\n    const { credentials } = this.props;\r\n    this.mapUserDetailsToState(credentials);\r\n  }\r\n  mapUserDetailsToState(credentials) {\r\n    this.setState({\r\n      bio: credentials.bio ? credentials.bio : \"\",\r\n      website: credentials.website ? credentials.website : \"\",\r\n      location: credentials.location ? credentials.location : \"\"\r\n    });\r\n  }\r\n  render() {\r\n    const { classes } = this.props;\r\n    return (\r\n      <Fragment>\r\n        <MyButton\r\n          tip=\"Edit Details\"\r\n          onClick={this.handleOpen}\r\n          btnClassName={classes.button}\r\n        >\r\n          <EditIcon color=\"primary\" />\r\n        </MyButton>\r\n        <Dialog\r\n          open={this.state.open}\r\n          onClose={this.handleClose}\r\n          fullWidth\r\n          maxWidth=\"sm\"\r\n        >\r\n          <DialogTitle>Edit your details</DialogTitle>\r\n          <DialogContent>\r\n            <form>\r\n              <TextField\r\n                name=\"bio\"\r\n                type=\"text\"\r\n                label=\"Bio\"\r\n                multiline\r\n                rows=\"3\"\r\n                placeholder=\"A shot bio about yourself\"\r\n                className={classes.textField}\r\n                value={this.state.bio}\r\n                onChange={this.handleChange}\r\n                fullWidth\r\n              />\r\n              <TextField\r\n                name=\"website\"\r\n                type=\"url\"\r\n                label=\"Website\"\r\n                fullWidth\r\n                placeholder=\"http://website.com\"\r\n                className={classes.textField}\r\n                value={this.state.website}\r\n                onChange={this.handleChange}\r\n              />\r\n              <TextField\r\n                name=\"location\"\r\n                type=\"text\"\r\n                label=\"Location\"\r\n                fullWidth\r\n                placeholder=\"Lagos, NG\"\r\n                className={classes.textField}\r\n                value={this.state.location}\r\n                onChange={this.handleChange}\r\n              />\r\n            </form>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.handleClose} color=\"primary\">\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={this.handleSubmit} color=\"primary\">\r\n              Save\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nEditDetails.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  editUserDetails: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  credentials: state.user.credentials\r\n});\r\n\r\nconst mapActionsToProps = {\r\n  editUserDetails\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapActionsToProps\r\n)(withStyles(styles)(EditDetails));\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/styles\";\r\nimport NoImg from \"../images/no-img.png\";\r\nimport { Paper } from \"@material-ui/core\";\r\nimport {\r\n  LocationOn,\r\n  Link as LinkIcon,\r\n  CalendarToday\r\n} from \"@material-ui/icons\";\r\nconst styles = theme => ({\r\n  ...theme.styles,\r\n  handle:{\r\n      height:20,\r\n      backgroundColor: theme.palette.primary.main,\r\n      width: 60,\r\n      margin: \"0 auto 7px auto\"\r\n  },\r\n  fullLine: {\r\n    height: 15,\r\n    width: \"90%\",\r\n    backgroundColor: \"rgba(0,0,0,0.6)\",\r\n    margin: \"0 auto 10px auto\"\r\n  },\r\n});\r\nconst ProfileSkeleton = props => {\r\n  const { classes } = props;\r\n  return (\r\n    <Paper className={classes.paper}>\r\n      <div className={classes.profile}>\r\n        <div className=\"image-wrapper\">\r\n          <img src={NoImg} alt=\"profile\" className=\"profile-image\" />\r\n        </div>\r\n        <hr />\r\n        <div className=\"profile-details\">\r\n          <div className={classes.handle} />\r\n          <hr />\r\n          <div className={classes.fullLine} />\r\n          <div className={classes.fullLine} />\r\n          <hr />\r\n          <LocationOn color=\"primary\" />\r\n          <span>Location</span>\r\n          <hr />\r\n          <LinkIcon color=\"primary\" />\r\n          http:website.com\r\n          <hr />\r\n          <CalendarToday color=\"primary\" />\r\n          <span>Joined Date</span>\r\n        </div>\r\n      </div>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nProfileSkeleton.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(ProfileSkeleton);\r\n","import React, { Component, Fragment } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport dayjs from \"dayjs\";\r\nimport { uploadImage, logoutUser } from \"../../redux/actions/userActions\";\r\nimport EditDetails from \"./EditDetails\";\r\nimport MyButton from \"../../util/MyButton\";\r\nimport ProfileSkeleton from \"../../util/ProfileSkeleton\";\r\n//MUI Stuffs\r\nimport { Button, Paper, Link as MuiLink, Typography } from \"@material-ui/core\";\r\n//Icons\r\nimport {\r\n  LocationOn,\r\n  Link as LinkIcon,\r\n  CalendarToday,\r\n  Edit as EditIcon,\r\n  KeyboardReturn\r\n} from \"@material-ui/icons\";\r\nconst styles = theme=>({\r\n  ...theme.styles\r\n});\r\nclass Profile extends Component {\r\n  handleImageChange = e => {\r\n    const image = e.target.files[0];\r\n    const formData = new FormData();\r\n    formData.append(\"image\", image, image.name);\r\n    this.props.uploadImage(formData);\r\n  };\r\n  handleEditPicture = () => {\r\n    const fileInput = document.getElementById(\"imageInput\");\r\n    fileInput.click();\r\n  };\r\n  handleLogout = () => {\r\n    this.props.logoutUser();\r\n  };\r\n  render() {\r\n    const {\r\n      classes,\r\n      user: {\r\n        credentials: { handle, createdAt, imgUrl, bio, location, website },\r\n        loading,\r\n        authenticated\r\n      }\r\n    } = this.props;\r\n    let profileMarkup = !loading ? (\r\n      authenticated ? (\r\n        <Paper className={classes.paper}>\r\n          <div className={classes.profile}>\r\n            <div className=\"image-wrapper\">\r\n              <img src={imgUrl} alt={handle} className=\"profile-image\" />\r\n              <input\r\n                type=\"file\"\r\n                id=\"imageInput\"\r\n                hidden=\"hidden\"\r\n                onChange={this.handleImageChange}\r\n              />\r\n              <MyButton\r\n                tip=\"Edit Profile Picture\"\r\n                onClick={this.handleEditPicture}\r\n                btnClassName=\"button\"\r\n              >\r\n                <EditIcon color=\"primary\" />\r\n              </MyButton>\r\n            </div>\r\n            <hr />\r\n            <div className=\"profile-details\">\r\n              <MuiLink\r\n                component={Link}\r\n                to={`/users/${handle}`}\r\n                color=\"primary\"\r\n                variant=\"h5\"\r\n              >\r\n                @{handle}\r\n              </MuiLink>\r\n              <hr />\r\n              {bio && <Typography variant=\"body2\">{bio}</Typography>}\r\n              <hr />\r\n              {location && (\r\n                <Fragment>\r\n                  <LocationOn color=\"primary\" /> <span>{location}</span>\r\n                  <hr />\r\n                </Fragment>\r\n              )}\r\n              {website && (\r\n                <Fragment>\r\n                  <LinkIcon color=\"primary\" />\r\n                  <a target=\"_blank\" href={website} rel=\"noopener noreferrer\">\r\n                    {\" \"}\r\n                    {website}\r\n                  </a>\r\n                  <hr />\r\n                </Fragment>\r\n              )}\r\n              <CalendarToday color=\"primary\" />\r\n              <span>Joined {dayjs(createdAt).format(\"MMM YYYY\")}</span>\r\n            </div>\r\n            <MyButton tip=\"Logout\" onClick={this.handleLogout}>\r\n              <KeyboardReturn color=\"primary\" />\r\n            </MyButton>\r\n            <EditDetails />\r\n          </div>\r\n        </Paper>\r\n      ) : (\r\n        <Paper className={classes.paper}>\r\n          <Typography variant=\"body2\" align=\"center\">\r\n            No Profile Found, please login\r\n          </Typography>\r\n          <div className={classes.buttons}>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              component={Link}\r\n              to=\"/login\"\r\n            >\r\n              Login\r\n            </Button>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              component={Link}\r\n              to=\"/signup\"\r\n            >\r\n              Signup\r\n            </Button>\r\n          </div>\r\n        </Paper>\r\n      )\r\n    ) : (\r\n      <ProfileSkeleton />\r\n    );\r\n    return profileMarkup;\r\n  }\r\n}\r\n\r\nProfile.propTypes = {\r\n  user: PropTypes.object.isRequired,\r\n  classes: PropTypes.object.isRequired,\r\n  uploadImage: PropTypes.func.isRequired,\r\n  logoutUser: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  user: state.user\r\n});\r\nconst mapActionsToProps = {\r\n  uploadImage,\r\n  logoutUser\r\n};\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapActionsToProps\r\n)(withStyles(styles)(Profile));\r\n","import React, { Fragment } from \"react\";\r\nimport NoImg from \"../images/no-img.png\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Card, CardMedia, CardContent } from \"@material-ui/core\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nconst styles = {\r\n  card: {\r\n    display: \"flex\",\r\n    marginBottom: 20\r\n  },\r\n  cardContent: {\r\n    width: \"100%\",\r\n    flexDirection: \"column\",\r\n    padding: 25\r\n  },\r\n  cover: {\r\n    minWidth: 200,\r\n    objectFit: \"cover\"\r\n  },\r\n  handle: {\r\n    width: 60,\r\n    height: 18,\r\n    backgroundColor: \"#bf360c\",\r\n    marginBottom: 7\r\n  },\r\n  date: {\r\n    height: 14,\r\n    width: 100,\r\n    backgroundColor: \"rgba(0,0,0,0.3)\",\r\n    marginBottom: 10\r\n  },\r\n  fullLine: {\r\n    height: 15,\r\n    width: \"90%\",\r\n    backgroundColor: \"rgba(0,0,0,0.6)\",\r\n    marginBottom: 10\r\n  },\r\n  halfLine: {\r\n    height: 15,\r\n    width: \"50%\",\r\n    backgroundColor: \"rgba(0,0,0,0.6)\",\r\n    marginBottom: 10\r\n  }\r\n};\r\nconst ScreamSkeleton = props => {\r\n  const { classes } = props;\r\n  const screamSkeleton = Array.from({ length: 3 }).map(i => (\r\n    <Card className={classes.card} key={Math.random()}>\r\n      <CardMedia className={classes.cover} image={NoImg} />\r\n      <CardContent className={classes.cardContent}>\r\n        <div className={classes.handle} />\r\n        <div className={classes.date} />\r\n        <div className={classes.fullLine} />\r\n        <div className={classes.fullLine} />\r\n        <div className={classes.halfLine} />\r\n      </CardContent>\r\n    </Card>\r\n  ));\r\n  return <Fragment>{screamSkeleton}</Fragment>;\r\n};\r\nScreamSkeleton.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\nexport default withStyles(styles)(ScreamSkeleton);\r\n","import React, { Component } from \"react\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Scream from \"../components/scream/Scream\";\r\nimport Profile from \"../components/profile/Profile\";\r\nimport ScreamSkeleton from \"../util/ScreamSkeleton\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { getScreams } from \"../redux/actions/dataActions\";\r\nclass home extends Component {\r\n  componentDidMount() {\r\n    this.props.getScreams();\r\n  }\r\n  render() {\r\n    const { screams, loading } = this.props.data;\r\n    let recentScreamsMarkup = !loading ? (\r\n      screams.map(scream => (\r\n        <Scream scream={scream} key={scream.screamId}></Scream>\r\n      ))\r\n    ) : (\r\n      <ScreamSkeleton />\r\n    );\r\n    return (\r\n      <Grid container spacing={2}>\r\n        <Grid item sm={8} xs={12}>\r\n          {recentScreamsMarkup}\r\n        </Grid>\r\n        <Grid item sm={4} xs={12}>\r\n          <Profile />\r\n        </Grid>\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\nhome.propTypes = {\r\n  data: PropTypes.object.isRequired,\r\n  getScreams: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  data: state.data\r\n});\r\n\r\nconst mapActionsToProps = {\r\n  getScreams\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapActionsToProps\r\n)(home);\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport PropTypes from \"prop-types\";\r\nimport Logo from \"../images/logo.jpg\";\r\n\r\n//MUI Stuffs\r\nimport {\r\n  TextField,\r\n  Typography,\r\n  Grid,\r\n  Button,\r\n  CircularProgress\r\n} from \"@material-ui/core\";\r\n//Redux stuff\r\nimport { connect } from \"react-redux\";\r\nimport { loginUser } from \"../redux/actions/userActions\";\r\nconst styles = theme => ({\r\n  ...theme.styles\r\n});\r\nclass login extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n      errors: {}\r\n    };\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    nextProps.UI.errors && this.setState({ errors: nextProps.UI.errors });\r\n  }\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const userData = { email: this.state.email, password: this.state.password };\r\n    this.props.loginUser(userData, this.props.history);\r\n  };\r\n  handleChange = e => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value\r\n    });\r\n  };\r\n  render() {\r\n    const {\r\n      classes,\r\n      UI: { loading }\r\n    } = this.props;\r\n    const { errors, email, password } = this.state;\r\n    return (\r\n      <Grid container className={classes.form}>\r\n        <Grid item sm />\r\n        <Grid item sm>\r\n          <img src={Logo} alt=\"Social Monster\" className={classes.image} />\r\n          <Typography variant=\"h1\" className={classes.pageTitle}>\r\n            Login\r\n          </Typography>\r\n          <form noValidate onSubmit={this.handleSubmit}>\r\n            <TextField\r\n              id=\"email\"\r\n              name=\"email\"\r\n              type=\"email\"\r\n              fullWidth\r\n              label=\"Email\"\r\n              helperText={errors.email}\r\n              error={errors.email ? true : false}\r\n              className={classes.textField}\r\n              value={email}\r\n              onChange={this.handleChange}\r\n            />\r\n            <TextField\r\n              id=\"password\"\r\n              name=\"password\"\r\n              type=\"password\"\r\n              fullWidth\r\n              label=\"Password\"\r\n              helperText={errors.password}\r\n              error={errors.password ? true : false}\r\n              className={classes.textField}\r\n              value={password}\r\n              onChange={this.handleChange}\r\n            />\r\n            {errors.general && (\r\n              <Typography variant=\"body2\" className={classes.customError}>\r\n                {errors.general}\r\n              </Typography>\r\n            )}\r\n            <Button\r\n              type=\"submit\"\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.button}\r\n              disabled={loading}\r\n            >\r\n              Login\r\n              {loading && (\r\n                <CircularProgress className={classes.progress} size={30} />\r\n              )}\r\n            </Button>\r\n            <br />\r\n            <small>\r\n              Don't have an account? <Link to=\"/signup\">Signup Here</Link>\r\n            </small>\r\n          </form>\r\n        </Grid>\r\n        <Grid item sm />\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\nlogin.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  loginUser: PropTypes.func.isRequired,\r\n  user: PropTypes.object.isRequired,\r\n  UI: PropTypes.object.isRequired\r\n};\r\nconst mapStateToProps = state => ({\r\n  user: state.user,\r\n  UI: state.UI\r\n});\r\nconst mapActionsToProps = {\r\n  loginUser\r\n};\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapActionsToProps\r\n)(withStyles(styles)(login));\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport PropTypes from \"prop-types\";\r\nimport Logo from \"../images/logo.jpg\";\r\n\r\n//MUI Stuffs\r\nimport {\r\n  TextField,\r\n  Typography,\r\n  Grid,\r\n  Button,\r\n  CircularProgress\r\n} from \"@material-ui/core\";\r\n//Redux stuff\r\nimport { connect } from \"react-redux\";\r\nimport { signupUser } from \"../redux/actions/userActions\";\r\n\r\nconst styles = theme => ({\r\n  ...theme.styles\r\n});\r\nclass signup extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n      confirmPassword: \"\",\r\n      handle: \"\",\r\n      errors: {}\r\n    };\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    nextProps.UI.errors && this.setState({ errors: nextProps.UI.errors });\r\n  }\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    const newUserData = {\r\n      email: this.state.email,\r\n      password: this.state.password,\r\n      confirmPassword: this.state.confirmPassword,\r\n      handle: this.state.handle\r\n    };\r\n    this.props.signupUser(newUserData, this.props.history);\r\n  };\r\n  handleChange = e => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value\r\n    });\r\n  };\r\n  render() {\r\n    const {\r\n      classes,\r\n      UI: { loading }\r\n    } = this.props;\r\n    const { errors, email, password, handle, confirmPassword } = this.state;\r\n    return (\r\n      <Grid container className={classes.form}>\r\n        <Grid item sm />\r\n        <Grid item sm>\r\n          <img src={Logo} alt=\"Social Monster\" className={classes.image} />\r\n          <Typography variant=\"h1\" className={classes.pageTitle}>\r\n            Signup\r\n          </Typography>\r\n          <form noValidate onSubmit={this.handleSubmit}>\r\n            <TextField\r\n              id=\"handle\"\r\n              name=\"handle\"\r\n              type=\"text\"\r\n              fullWidth\r\n              label=\"Handle\"\r\n              helperText={errors.handle}\r\n              error={errors.handle ? true : false}\r\n              className={classes.textField}\r\n              value={handle}\r\n              onChange={this.handleChange}\r\n            />\r\n            <TextField\r\n              id=\"email\"\r\n              name=\"email\"\r\n              type=\"email\"\r\n              fullWidth\r\n              label=\"Email\"\r\n              helperText={errors.email}\r\n              error={errors.email ? true : false}\r\n              className={classes.textField}\r\n              value={email}\r\n              onChange={this.handleChange}\r\n            />\r\n            <TextField\r\n              id=\"password\"\r\n              name=\"password\"\r\n              type=\"password\"\r\n              fullWidth\r\n              label=\"Password\"\r\n              helperText={errors.password}\r\n              error={errors.password ? true : false}\r\n              className={classes.textField}\r\n              value={password}\r\n              onChange={this.handleChange}\r\n            />\r\n            <TextField\r\n              id=\"confirmPassword\"\r\n              name=\"confirmPassword\"\r\n              type=\"password\"\r\n              fullWidth\r\n              label=\"Confirm Password\"\r\n              helperText={errors.confirmPassword}\r\n              error={errors.confirmPassword ? true : false}\r\n              className={classes.textField}\r\n              value={confirmPassword}\r\n              onChange={this.handleChange}\r\n            />\r\n            {errors.general && (\r\n              <Typography variant=\"body2\" className={classes.customError}>\r\n                {errors.general}\r\n              </Typography>\r\n            )}\r\n            <Button\r\n              type=\"submit\"\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.button}\r\n              disabled={loading}\r\n            >\r\n              Signup\r\n              {loading && (\r\n                <CircularProgress className={classes.progress} size={30} />\r\n              )}\r\n            </Button>\r\n            <br />\r\n            <small>\r\n              Already have an account? <Link to=\"/login\">Login Here</Link>\r\n            </small>\r\n          </form>\r\n        </Grid>\r\n        <Grid item sm />\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\nsignup.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  signupUser: PropTypes.func.isRequired,\r\n  user: PropTypes.object.isRequired,\r\n  UI: PropTypes.object.isRequired\r\n};\r\nconst mapStateToProps = state => ({\r\n  user: state.user,\r\n  UI: state.UI\r\n});\r\nconst mapActionsToProps = {\r\n  signupUser\r\n};\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapActionsToProps\r\n)(withStyles(styles)(signup));\r\n","import React, { Fragment } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport dayjs from \"dayjs\";\r\n//MUI Stuffs\r\nimport { Paper, Link as MuiLink, Typography } from \"@material-ui/core\";\r\n//Icons\r\nimport {\r\n  LocationOn,\r\n  Link as LinkIcon,\r\n  CalendarToday\r\n} from \"@material-ui/icons\";\r\nconst styles = theme => ({\r\n  ...theme.styles\r\n});\r\nconst StaticProfile = props => {\r\n  const {\r\n    classes,\r\n    profile: { handle, imgUrl, createdAt, bio, website, location }\r\n  } = props;\r\n  return (\r\n    <Paper className={classes.paper}>\r\n      <div className={classes.profile}>\r\n        <div className=\"image-wrapper\">\r\n          <img src={imgUrl} alt={handle} className=\"profile-image\" />\r\n        </div>\r\n        <hr />\r\n        <div className=\"profile-details\">\r\n          <MuiLink\r\n            component={Link}\r\n            to={`/users/${handle}`}\r\n            color=\"primary\"\r\n            variant=\"h5\"\r\n          >\r\n            @{handle}\r\n          </MuiLink>\r\n          <hr />\r\n          {bio && <Typography variant=\"body2\">{bio}</Typography>}\r\n          <hr />\r\n          {location && (\r\n            <Fragment>\r\n              <LocationOn color=\"primary\" /> <span>{location}</span>\r\n              <hr />\r\n            </Fragment>\r\n          )}\r\n          {website && (\r\n            <Fragment>\r\n              <LinkIcon color=\"primary\" />\r\n              <a target=\"_blank\" href={website} rel=\"noopener noreferrer\">\r\n                {\" \"}\r\n                {website}\r\n              </a>\r\n              <hr />\r\n            </Fragment>\r\n          )}\r\n          <CalendarToday color=\"primary\" />\r\n          <span>Joined {dayjs(createdAt).format(\"MMM YYYY\")}</span>\r\n        </div>\r\n      </div>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nStaticProfile.propTypes = {\r\n  profile: PropTypes.object.isRequired,\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(StaticProfile);\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport { getUserData } from \"../redux/actions/dataActions\";\r\nimport ScreamSkeleton from \"../util/ScreamSkeleton\";\r\nimport ProfileSkeleton from \"../util/ProfileSkeleton\";\r\nimport Scream from \"../components/scream/Scream\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport StaticProfile from \"../components/profile/StaticProfile\";\r\nclass user extends Component {\r\n  state = { profile: null, screamIdParam: null };\r\n  componentDidMount(nextProps) {\r\n    const handle = this.props.match.params.handle;\r\n    const screamId = this.props.match.params.screamId;\r\n    if (screamId) {\r\n      this.setState({ screamIdParam: screamId });\r\n    }\r\n    this.props.getUserData(handle);\r\n    axios\r\n      .get(`/user/${handle}`)\r\n      .then(res => {\r\n        this.setState({\r\n          profile: res.data.user\r\n        });\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  }\r\n  render() {\r\n    const { screams, loading } = this.props.data;\r\n    const { screamIdParam } = this.state;\r\n    const screamsMarkup = loading ? (\r\n      <ScreamSkeleton />\r\n    ) : screams === null ? (\r\n      <p>No screams from this user</p>\r\n    ) : !screamIdParam ? (\r\n      screams.map(scream => <Scream key={scream.screamId} scream={scream} />)\r\n    ) : (\r\n      screams.map(scream => {\r\n        if (scream.screamId !== screamIdParam)\r\n          return <Scream key={scream.screamId} scream={scream} />;\r\n        else return <Scream key={scream.screamId} scream={scream} openDialog />;\r\n      })\r\n    );\r\n    return (\r\n      <Grid container spacing={2}>\r\n        <Grid item sm={8} xs={12}>\r\n          {screamsMarkup}\r\n        </Grid>\r\n        <Grid item sm={4} xs={12}>\r\n          {this.state.profile === null ? (\r\n            <ProfileSkeleton />\r\n          ) : (\r\n            <StaticProfile profile={this.state.profile} />\r\n          )}\r\n        </Grid>\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nuser.propTypes = {\r\n  getUserData: PropTypes.func.isRequired,\r\n  data: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  data: state.data\r\n});\r\n\r\nconst mapActionsToProps = {\r\n  getUserData\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapActionsToProps\r\n)(user);\r\n","import React, { Component, Fragment } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Menu,\r\n  MenuItem,\r\n  IconButton,\r\n  Tooltip,\r\n  Typography,\r\n  Badge\r\n} from \"@material-ui/core\";\r\nimport {\r\n  Notifications as NotificationsIcon,\r\n  Favorite as FavoriteIcon,\r\n  Chat as ChatIcon\r\n} from \"@material-ui/icons\";\r\nimport dayjs from \"dayjs\";\r\nimport relativeTime from \"dayjs/plugin/relativeTime\";\r\nimport { markNotificationsRead } from \"../../redux/actions/userActions\";\r\nclass Notifications extends Component {\r\n  state = {\r\n    anchorEl: null\r\n  };\r\n  handleOpen = e => {\r\n    this.setState({ anchorEl: e.target });\r\n  };\r\n  handleClose = () => {\r\n    this.setState({ anchorEl: null });\r\n  };\r\n  onMenuOpened = () => {\r\n    let unreadNotificationIds = this.props.notifications\r\n      .filter(n => !n.read)\r\n      .map(n => n.notificationId);\r\n    this.props.markNotificationsRead(unreadNotificationIds);\r\n  };\r\n  render() {\r\n    const notifications = this.props.notifications;\r\n    const anchorEl = this.state.anchorEl;\r\n    dayjs.extend(relativeTime);\r\n    let notificationsIcon;\r\n    if (notifications && notifications.length > 0) {\r\n      notifications.filter(n => n.read === false).length > 0\r\n        ? (notificationsIcon = (\r\n            <Badge\r\n              badgeContent={notifications.filter(n => n.read === false).length}\r\n              color=\"secondary\"\r\n            >\r\n              <NotificationsIcon />\r\n            </Badge>\r\n          ))\r\n        : (notificationsIcon = <NotificationsIcon />);\r\n    } else {\r\n      notificationsIcon = <NotificationsIcon />;\r\n    }\r\n    let notificationsMarkUp =\r\n      notifications && notifications.length > 0 ? (\r\n        notifications.map(n => {\r\n          const verb = n.type === \"like\" ? \"liked\" : \"commented on\";\r\n          const time = dayjs(n.createdAt).fromNow();\r\n          const iconColor = n.read ? \"primary\" : \"secondary\";\r\n          const icon =\r\n            n.type === \"like\" ? (\r\n              <FavoriteIcon color={iconColor} style={{ marginRight: 10 }} />\r\n            ) : (\r\n              <ChatIcon color={iconColor} style={{ marginRight: 10 }} />\r\n            );\r\n          return (\r\n            <MenuItem key={n.createdAt} onClick={this.handleClose}>\r\n              {icon}\r\n              <Typography\r\n                component={Link}\r\n                color=\"textPrimary\"\r\n                variant=\"body1\"\r\n                to={`/users/${n.recipient}/scream/${n.screamId}`}\r\n              >\r\n                {n.sender} {verb} your scream {time}\r\n              </Typography>\r\n            </MenuItem>\r\n          );\r\n        })\r\n      ) : (\r\n        <MenuItem onClick={this.handleClose}>You have no notification</MenuItem>\r\n      );\r\n    return (\r\n      <Fragment>\r\n        <Tooltip placement=\"top\" title=\"Notifications\">\r\n          <IconButton\r\n            aria-owns={anchorEl ? \"simple-menu\" : undefined}\r\n            aria-haspopup=\"true\"\r\n            onClick={this.handleOpen}\r\n          >\r\n            {notificationsIcon}\r\n          </IconButton>\r\n        </Tooltip>\r\n        <Menu\r\n          anchorEl={anchorEl}\r\n          open={Boolean(anchorEl)}\r\n          onClose={this.handleClose}\r\n          onEntered={this.onMenuOpened}\r\n        >\r\n          {notificationsMarkUp}\r\n        </Menu>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\nNotifications.propTypes = {\r\n  markNotificationsRead: PropTypes.func.isRequired,\r\n  notifications: PropTypes.array.isRequired\r\n};\r\nconst mapStateToProps = state => ({\r\n  notifications: state.user.notifications\r\n});\r\n\r\nconst mapActionsToProps = {\r\n  markNotificationsRead\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapActionsToProps\r\n)(Notifications);\r\n","import React, { Component, Fragment } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { withStyles } from \"@material-ui/styles\";\r\nimport { postScream, clearErrors } from \"../../redux/actions/dataActions\";\r\nimport MyButton from \"../../util/MyButton\";\r\nimport { Add as AddIcon, Close as CloseIcon } from \"@material-ui/icons\";\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  CircularProgress,\r\n  DialogTitle,\r\n  TextField,\r\n  DialogContent\r\n} from \"@material-ui/core\";\r\nconst styles = theme => ({\r\n  ...theme.styles,\r\n  submitButton: {\r\n    position: \"relative\",\r\n    float: \"right\",\r\n    marginTop: 10\r\n  },\r\n  progressSpinner: {\r\n    position: \"absolute\"\r\n  },\r\n  closeButton: {\r\n    position: \"absolute\",\r\n    top: \"6%\",\r\n    left: \"91%\"\r\n  }\r\n});\r\nclass PostScream extends Component {\r\n  state = { open: false, body: \"\", errors: {} };\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    nextProps.UI.errors && this.setState({ errors: nextProps.UI.errors });\r\n    !nextProps.UI.errors &&\r\n      !nextProps.UI.loading &&\r\n      this.setState({ open: false, body: \"\", errors: {} });\r\n  }\r\n  handleOpen = () => {\r\n    this.setState({ open: true });\r\n  };\r\n  handleClose = () => {\r\n    this.props.clearErrors();\r\n    this.setState({ open: false, body: \"\", errors: {} });\r\n  };\r\n  handleChange = e => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value\r\n    });\r\n  };\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const newScream = {\r\n      body: this.state.body\r\n    };\r\n    this.props.postScream(newScream);\r\n  };\r\n  render() {\r\n    const { errors } = this.state;\r\n    const {\r\n      classes,\r\n      UI: { loading }\r\n    } = this.props;\r\n    return (\r\n      <Fragment>\r\n        <MyButton tip=\"Post New Scream!\" onClick={this.handleOpen}>\r\n          <AddIcon />\r\n        </MyButton>\r\n        <Dialog\r\n          open={this.state.open}\r\n          onClose={this.handleClose}\r\n          fullWidth\r\n          maxWidth=\"sm\"\r\n        >\r\n          <MyButton\r\n            tip=\"Close\"\r\n            onClick={this.handleClose}\r\n            btnClassName={classes.closeButton}\r\n          >\r\n            <CloseIcon />\r\n          </MyButton>\r\n          <DialogTitle>Post New Scream</DialogTitle>\r\n          <DialogContent>\r\n            <form onSubmit={this.handleSubmit}>\r\n              <TextField\r\n                name=\"body\"\r\n                type=\"text\"\r\n                label=\"Scream!!!\"\r\n                placeholder=\"Scream at your fellow monsters\"\r\n                multiline\r\n                fullWidth\r\n                error={errors.body ? true : false}\r\n                helperText={errors.body}\r\n                rows=\"3\"\r\n                onChange={this.handleChange}\r\n                className={classes.textField}\r\n              />\r\n              <Button\r\n                type=\"submit\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.submitButton}\r\n                disabled={loading}\r\n              >\r\n                Scream\r\n                {loading && (\r\n                  <CircularProgress\r\n                    className={classes.progressSpinner}\r\n                    size={30}\r\n                  />\r\n                )}\r\n              </Button>\r\n            </form>\r\n          </DialogContent>\r\n        </Dialog>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\nPostScream.propTypes = {\r\n  postScream: PropTypes.func.isRequired,\r\n  clearErrors: PropTypes.func.isRequired,\r\n  UI: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  UI: state.UI\r\n});\r\n\r\nconst mapActionsToProps = {\r\n  postScream,\r\n  clearErrors\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapActionsToProps\r\n)(withStyles(styles)(PostScream));\r\n","import React, { Component, Fragment } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport MyButton from \"../../util/MyButton\";\r\nimport Notifications from \"./Notifications\";\r\nimport PostScream from \"../scream/PostScream\";\r\n//MUI Stuff\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { Home as HomeIcon } from \"@material-ui/icons\";\r\n\r\nclass Navbar extends Component {\r\n  render() {\r\n    const { authenticated } = this.props;\r\n    return (\r\n      <AppBar>\r\n        <Toolbar className=\"nav-container\">\r\n          {authenticated ? (\r\n            <Fragment>\r\n              <PostScream />\r\n              <Link to=\"/\">\r\n                <MyButton tip=\"Home\">\r\n                  <HomeIcon />\r\n                </MyButton>\r\n              </Link>\r\n              <Notifications />\r\n            </Fragment>\r\n          ) : (\r\n            <Fragment>\r\n              <Button color=\"inherit\" component={Link} to=\"/login\">\r\n                Login\r\n              </Button>\r\n              <Button color=\"inherit\" component={Link} to=\"/\">\r\n                Home\r\n              </Button>\r\n              <Button color=\"inherit\" component={Link} to=\"/signup\">\r\n                Signup\r\n              </Button>\r\n            </Fragment>\r\n          )}\r\n        </Toolbar>\r\n      </AppBar>\r\n    );\r\n  }\r\n}\r\nNavbar.propTypes = {\r\n  authenticated: PropTypes.bool.isRequired\r\n};\r\nconst mapStateToProps = state => ({\r\n  authenticated: state.user.authenticated\r\n});\r\nexport default connect(mapStateToProps)(Navbar);\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nconst AuthRoute = ({ component: Component, authenticated, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={props =>\r\n      authenticated === true ? <Redirect to=\"/\" /> : <Component {...props} />\r\n    }\r\n  />\r\n);\r\nAuthRoute.propTypes = {\r\n  user: PropTypes.object\r\n};\r\nconst mapStateToProps = state => ({\r\n  authenticated: state.user.authenticated\r\n});\r\nexport default connect(mapStateToProps)(AuthRoute);\r\n","import React, { Component } from \"react\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport \"./App.css\";\r\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\r\nimport jwtDecode from \"jwt-decode\";\r\n//Redux\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./redux/store\";\r\nimport { logoutUser, getUserData } from \"./redux/actions/userActions\";\r\n//Pages\r\nimport home from \"./pages/home\";\r\nimport login from \"./pages/login\";\r\nimport signup from \"./pages/signup\";\r\nimport user from \"./pages/user\";\r\n\r\n//Components\r\nimport Navbar from \"./components/layout/Navbar\";\r\n//Util\r\nimport themeObject from \"./util/theme\";\r\nimport AuthRoute from \"./util/AuthRoute\";\r\nimport Axios from \"axios\";\r\n\r\nconst theme = createMuiTheme(themeObject);\r\nAxios.defaults.baseURL =\r\n  \"https://europe-west1-socialmonster-b9de3.cloudfunctions.net/api\";\r\nconst token = localStorage.FBIdToken;\r\nif (token) {\r\n  const decodedToken = jwtDecode(token);\r\n  if (decodedToken.exp * 1000 < Date.now()) {\r\n    store.dispatch(logoutUser());\r\n    window.location.href = \"/login\";\r\n  } else {\r\n    Axios.defaults.headers.common[\"Authorization\"] = token;\r\n    store.dispatch(getUserData());\r\n  }\r\n}\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <MuiThemeProvider theme={theme}>\r\n        <Provider store={store}>\r\n          <Router>\r\n            <Navbar />\r\n            <div className=\"container\">\r\n              <Switch>\r\n                <Route exact path=\"/\" component={home} />\r\n                <AuthRoute exact path=\"/login\" component={login} />\r\n                <AuthRoute exact path=\"/signup\" component={signup} />\r\n                <Route exact path=\"/users/:handle\" component={user} />\r\n                <Route\r\n                  exact\r\n                  path=\"/users/:handle/scream/:screamId\"\r\n                  component={user}\r\n                />\r\n              </Switch>\r\n            </div>\r\n          </Router>\r\n        </Provider>\r\n      </MuiThemeProvider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","export default {\r\n  palette: {\r\n    primary: {\r\n      main: \"#bf360c\",\r\n      light: \"#cb5e3c\",\r\n      dark: \"#852508\",\r\n      contrastText: \"#ffffff\"\r\n    },\r\n    secondary: {\r\n      main: \"#BF0C3B\",\r\n      light: \"#cb3c62\",\r\n      dark: \"#850829\",\r\n      contrastText: \"#ffffff\"\r\n    }\r\n  },\r\n  styles: {\r\n    paper: {\r\n      padding: 20\r\n    },\r\n    profile: {\r\n      \"& .image-wrapper\": {\r\n        textAlign: \"center\",\r\n        position: \"relative\",\r\n        \"& button\": {\r\n          position: \"absolute\",\r\n          top: \"80%\",\r\n          left: \"70%\"\r\n        }\r\n      },\r\n      \"& .profile-image\": {\r\n        width: 200,\r\n        height: 200,\r\n        objectFit: \"cover\",\r\n        maxWidth: \"100%\",\r\n        borderRadius: \"50%\"\r\n      },\r\n      \"& .profile-details\": {\r\n        textAlign: \"center\",\r\n        \"& span, svg\": {\r\n          verticalAlign: \"middle\"\r\n        },\r\n        \"& a\": {\r\n          color: \"#bf360c\"\r\n        }\r\n      },\r\n      \"& hr\": {\r\n        border: \"none\",\r\n        margin: \"0 0 10px 0\"\r\n      },\r\n      \"& svg.button\": {\r\n        \"&:hover\": {\r\n          cursor: \"pointer\"\r\n        }\r\n      }\r\n    },\r\n    buttons: {\r\n      textAlign: \"center\",\r\n      \"& a\": {\r\n        margin: \"20px 10px\"\r\n      }\r\n    },\r\n    form: {\r\n      textAlign: \"center\"\r\n    },\r\n    image: {\r\n      width: 65,\r\n      height: \"auto\",\r\n      margin: \"20px auto\"\r\n    },\r\n    pageTitle: {\r\n      fontSize: 48,\r\n      fontWeight: \"400\",\r\n      margin: \"10px auto\"\r\n    },\r\n    textField: {\r\n      margin: \"10px auto\"\r\n    },\r\n    button: {\r\n      marginTop: 20,\r\n      position: \"relative\"\r\n    },\r\n    customError: {\r\n      color: \"red\",\r\n      fontSize: \"0.8rem\",\r\n      marginTop: 10\r\n    },\r\n    progress: {\r\n      position: \"absolute\"\r\n    },\r\n    invisibleSeparator: {\r\n      border: \"none\",\r\n      margin: 4\r\n    },\r\n    visibleSeparator: {\r\n      width: \"100%\",\r\n      borderBottom: \"1px solid rgba(0,0,0,0.1)\",\r\n      marginBottom: 20\r\n    }\r\n  }\r\n};\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/no-img.f473a349.png\";","module.exports = __webpack_public_path__ + \"static/media/logo.54c93b83.jpg\";"],"sourceRoot":""}